export default class a{constructor(t){this.audioPlayer=t,this._state={numberOfScratchedTiles:0,scratchedTiles:{},winningSoundPlayed:!1,won:!1},this.TOTAL_NUMBER_OF_TILES=10}_setWon(){this._state.won=Object.values(this._state.scratchedTiles).includes(3)}hasWon(){return this._state.won}hasScratchedAll(){return this._state.numberOfScratchedTiles===this.TOTAL_NUMBER_OF_TILES}updateState(t,e){this._state.numberOfScratchedTiles++,t in this._state.scratchedTiles?this._state.scratchedTiles[t]++:this._state.scratchedTiles[t]=1,this._setWon();const s=this.audioPlayer;this.hasWon()&&!this._state.winningSoundPlayed&&(this._state.winningSoundPlayed=!0,e.addEventListener("ended",function(){e.currentTime=0,s.playWin()})),this.hasScratchedAll()&&!this.hasWon()&&e.addEventListener("ended",function(){e.currentTime=0,s.playLost()})}}
